{% extends "base.html" %}
{% block title %}Administra√ß√£o{% endblock %}

{% block content %}
<style>
  /* Estilos espec√≠ficos para mobile no painel admin */
  @media (max-width: 768px) {
    .admin-panel-title {
      font-size: 2rem !important;
      margin-bottom: 2rem !important;
    }
    
    .admin-panel-title i {
      font-size: 2rem !important;
    }
    
    .admin-glass-card {
      max-width: 95% !important;
      padding: 1.5rem !important;
    }
    
    .admin-btn {
      font-size: 1.2rem !important;
      padding: 18px 24px !important;
      min-height: 60px !important;
      display: flex !important;
      align-items: center !important;
      justify-content: center !important;
    }
    
    .admin-btn i {
      font-size: 1.4rem !important;
      margin-right: 12px !important;
    }
    
    .admin-gap {
      gap: 1rem !important;
    }
    
    .admin-footer {
      font-size: 1.1rem !important;
      margin-top: 3rem !important;
    }
    
    .admin-footer i {
      font-size: 1.3rem !important;
    }
    
    .admin-footer small {
      font-size: 1rem !important;
    }
    
    .admin-hr {
      margin: 1.5rem 0 !important;
      border-width: 2px !important;
    }
  }
  
  /* Estilos para desktop tamb√©m melhorados */
  .admin-btn {
    font-size: 1.1rem;
    padding: 16px 20px;
    min-height: 56px;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.3s ease;
  }
  
  .admin-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(0, 123, 255, 0.3);
  }
  
  .admin-btn i {
    font-size: 1.2rem;
  }
</style>

<div class="fade-in text-center" style="min-height: 70vh; display: flex; flex-direction: column; justify-content: center; padding-top: 40px;">
  
  <h1 class="app-title mb-4 admin-panel-title">
    <i class="bi bi-gear-fill me-2" style="color: var(--color-accent);"></i>
    Painel Administrativo
  </h1>
  
  <!-- Bloco Superior: Visualiza√ß√£o e Opera√ß√µes (Sempre vis√≠vel) -->
  <div class="glass-card admin-glass-card mb-4" style="max-width: 600px; margin: 0 auto;">
    <h3 class="text-center mb-3" style="color: var(--color-accent); font-size: 1.3rem; font-weight: 600;">
      <i class="bi bi-eye-fill me-2"></i>
      Visualiza√ß√£o e Opera√ß√µes
    </h3>
    <div class="d-grid admin-gap" style="gap: 1rem;">
      
      <a href="{{ url_for('rota_ver_rodadas') }}" class="btn-primary-custom btn-block admin-btn">
        <i class="bi bi-calendar-event me-2"></i>
        <span>Ver Rodadas</span>
      </a>
      
      <a href="{{ url_for('rota_ranking_individual') }}" class="btn-primary-custom btn-accent btn-block admin-btn">
        <i class="bi bi-bar-chart-fill me-2"></i>
        <span>Ver Ranking</span>
      </a>
      
      <a href="{{ url_for('rota_registro_resultados') }}" class="btn-primary-custom btn-success btn-block admin-btn">
        <i class="bi bi-pencil-square me-2"></i>
        <span>Registrar Resultados</span>
      </a>
      
      <a href="{{ url_for('admin_visitas') }}" class="btn-primary-custom btn-block admin-btn" style="background: var(--color-secondary);">
        <i class="bi bi-graph-up-arrow me-2"></i>
        <span>Estat√≠sticas de Visitas</span>
      </a>
      
      <a href="{{ url_for('index') }}" class="btn-primary-custom btn-block admin-btn" style="background: rgba(255,255,255,0.1);">
        <i class="bi bi-house-fill me-2"></i>
        <span>P√°gina Inicial</span>
      </a>
      
    </div>
  </div>

  <!-- Bloco Inferior: Configura√ß√£o e Administra√ß√£o (Requer senha) -->
  {% if not senha_valida %}
  <div class="glass-card admin-glass-card" style="max-width: 500px; margin: 0 auto;">
    <h3 class="text-center mb-4" style="color: var(--color-accent); font-size: 1.5rem; font-weight: 600;">
      <i class="bi bi-shield-lock-fill me-2"></i>
      Acesso Restrito
    </h3>
    
    {% if erro %}
    <div class="alert alert-danger mb-3">
      <i class="bi bi-exclamation-triangle-fill me-2"></i>
      {{ erro }}
    </div>
    {% endif %}
    
    <p class="text-center mb-4" style="color: var(--color-text);">
      Para acessar as op√ß√µes de <strong>Configura√ß√£o e Administra√ß√£o</strong>, digite a senha:
    </p>
    
    <form method="POST" action="{{ url_for('admin') }}">
      <div class="mb-4">
        <label for="senha" class="form-label text-start d-block mb-2" style="color: var(--color-text); font-weight: 600;">
          <i class="bi bi-key-fill me-2" style="color: var(--color-primary);"></i>
          Senha administrativa:
        </label>
        <input 
          type="password" 
          class="form-control form-control-lg" 
          id="senha" 
          name="senha" 
          placeholder="Digite a senha"
          required
          autofocus
          style="font-size: 1.2rem; padding: 15px; text-align: center;"
        >
      </div>
      
      <button type="submit" class="btn-primary-custom btn-block admin-btn" style="width: 100%;">
        <i class="bi bi-unlock-fill me-2"></i>
        <span>Validar Senha</span>
      </button>
    </form>
  </div>
  {% else %}
  <div class="glass-card admin-glass-card" style="max-width: 600px; margin: 0 auto;">
    <h3 class="text-center mb-3" style="color: var(--color-accent); font-size: 1.3rem; font-weight: 600;">
      <i class="bi bi-gear-fill me-2"></i>
      Configura√ß√£o e Administra√ß√£o
    </h3>
    <div class="d-grid admin-gap" style="gap: 1rem;">
      
      <a href="{{ url_for('presenca') }}" class="btn-primary-custom btn-block admin-btn">
        <i class="bi bi-people-fill me-2"></i>
        <span>Gerenciar Jogadores</span>
      </a>
      
      <a href="{{ url_for('gerar_sorteio') }}" class="btn-primary-custom btn-accent btn-block admin-btn">
        <i class="bi bi-shuffle me-2"></i>
        <span>Gerar Sorteio</span>
      </a>
      
      <a href="{{ url_for('rota_resetar_rodadas') }}" 
         class="btn-primary-custom btn-block admin-btn" 
         style="background: var(--color-danger);" 
         onclick="return confirm('‚ö†Ô∏è Tem certeza? Isso apagar√° TODAS as rodadas e resultados!')">
        <i class="bi bi-arrow-clockwise me-2"></i>
        <span>Resetar Tudo</span>
      </a>
      
    </div>
  </div>
  {% endif %}

  <div class="mt-5 text-muted fade-in admin-footer" style="animation-delay: 0.3s;">
    <p class="mb-1">
      <i class="bi bi-volleyball me-2"></i>
      Sistema de 5 Rodadas com Duplas Mistas
    </p>
    <p>
      <small>BT Mania - Beach Tennis üéæ</small>
    </p>
  </div>
  
  <div style="height: 80px;"></div>
  
</div>
{% endblock %}
