<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <title>{% block title %}Torneio Beach Tennis - BT Mania{% endblock %}</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  
  <!-- Bootstrap 5.3.2 -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  
  <!-- Bootstrap Icons -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
  
  <!-- Google Fonts - Poppins -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
  
  <!-- CSS Global -->
  <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}?v=2.6">
  
  <style>
    /* Ajustes específicos do Bootstrap para integrar com o tema */
    body {
      font-family: 'Poppins', sans-serif;
      color: var(--color-text);
    }
    
    .container {
      max-width: 1200px;
    }
    
    /* Forçar cor de texto clara em todos os elementos */
    * {
      color: inherit;
    }
    
    /* Garantir legibilidade em elementos Bootstrap */
    .badge, .btn, .alert, .card, .nav, .navbar {
      color: var(--color-text);
    }
    
    /* Integração de tabelas Bootstrap */
    .table {
      color: var(--color-text) !important;
    }
    
    .table > :not(caption) > * > * {
      background-color: transparent;
      border-bottom-color: rgba(255, 255, 255, 0.1);
      color: var(--color-text) !important;
    }
    
    /* Select customizado */
    select.form-select {
      background-color: rgba(255, 255, 255, 0.08);
      border: 1px solid rgba(255, 255, 255, 0.1);
      color: var(--color-text) !important;
      padding: 12px;
      border-radius: 8px;
    }
    
    select.form-select:focus {
      background-color: rgba(255, 255, 255, 0.12);
      border-color: var(--color-primary);
      box-shadow: 0 0 0 3px rgba(0, 123, 255, 0.2);
      color: var(--color-text) !important;
    }
    
    select.form-select option {
      background-color: #2c5364;
      color: var(--color-text) !important;
    }
    
    /* Input customizado */
    input.form-control {
      background-color: rgba(255, 255, 255, 0.08);
      border: 1px solid rgba(255, 255, 255, 0.1);
      color: var(--color-text) !important;
      border-radius: 8px;
    }
    
    input.form-control:focus {
      background-color: rgba(255, 255, 255, 0.12);
      border-color: var(--color-primary);
      box-shadow: 0 0 0 3px rgba(0, 123, 255, 0.2);
      color: var(--color-text) !important;
    }
    
    input.form-control::placeholder {
      color: rgba(255, 255, 255, 0.4);
    }
    
    /* Sobrescrever cores escuras do Bootstrap */
    .text-dark {
      color: var(--color-text) !important;
    }
    
    /* Labels e forms */
    label, .form-label, .form-check-label {
      color: var(--color-text) !important;
    }
    
    /* Alerts do Bootstrap - Ajustes para tema escuro */
    .alert {
      background-color: rgba(255, 255, 255, 0.1) !important;
      border: 1px solid rgba(255, 255, 255, 0.2) !important;
      color: var(--color-text) !important;
      border-radius: 8px;
      padding: 15px 20px;
    }
    
    .alert-success {
      background-color: rgba(6, 214, 160, 0.2) !important;
      border-color: rgba(6, 214, 160, 0.5) !important;
      color: #06d6a0 !important;
    }
    
    .alert-info {
      background-color: rgba(0, 123, 255, 0.2) !important;
      border-color: rgba(0, 123, 255, 0.5) !important;
      color: #4da3ff !important;
    }
    
    .alert-warning {
      background-color: rgba(255, 209, 102, 0.2) !important;
      border-color: rgba(255, 209, 102, 0.5) !important;
      color: #ffd166 !important;
    }
    
    .alert-danger {
      background-color: rgba(239, 71, 111, 0.2) !important;
      border-color: rgba(239, 71, 111, 0.5) !important;
      color: #ef476f !important;
    }
    
    .alert h5 {
      color: inherit !important;
      font-weight: 600;
      margin-bottom: 10px;
    }
    
    .alert p {
      color: inherit !important;
      margin-bottom: 5px;
    }
    
    .alert strong {
      color: inherit !important;
      font-weight: 600;
    }
    
    /* Texto dentro dos alerts */
    .alert * {
      color: inherit !important;
    }
    
    /* Textos em divs de opções e preview */
    #mista-opcoes p,
    #masculino-opcoes p,
    #feminino-opcoes p,
    #mista-preview-content p,
    #masculino-preview-content p,
    #feminino-preview-content p {
      color: var(--color-text) !important;
      margin-bottom: 8px;
    }
    
    #mista-opcoes strong,
    #masculino-opcoes strong,
    #feminino-opcoes strong,
    #mista-preview-content strong,
    #masculino-preview-content strong,
    #feminino-preview-content strong {
      color: var(--color-accent) !important;
      font-weight: 600;
    }
    
    /* Texto muted dentro dos divs */
    .text-muted {
      color: var(--color-text-muted) !important;
    }
    
    /* === MELHORIAS VISUAIS PARA RESULTADOS CADASTRADOS === */
    
    /* Confronto com resultado finalizado - destaque geral */
    .matchup-container.resultado-finalizado {
      background: linear-gradient(135deg, rgba(6, 214, 160, 0.15), rgba(6, 214, 160, 0.05)) !important;
      border: 2px solid rgba(6, 214, 160, 0.4) !important;
      box-shadow: 0 4px 20px rgba(6, 214, 160, 0.2) !important;
    }
    
    /* Fallback para navegadores que suportam :has() */
    @supports selector(:has(*)) {
      .matchup-container:has(.matchup-dupla.winner) {
        background: linear-gradient(135deg, rgba(6, 214, 160, 0.15), rgba(6, 214, 160, 0.05)) !important;
        border: 2px solid rgba(6, 214, 160, 0.4) !important;
        box-shadow: 0 4px 20px rgba(6, 214, 160, 0.2) !important;
      }
    }
    
    /* Placar destacado para resultados finalizados */
    .matchup-score {
      font-size: 2.2rem !important;
      font-weight: 800 !important;
      background: linear-gradient(135deg, var(--color-accent), var(--color-primary)) !important;
      -webkit-background-clip: text !important;
      -webkit-text-fill-color: transparent !important;
      background-clip: text !important;
      text-shadow: 0 2px 10px rgba(0, 123, 255, 0.3) !important;
      min-width: 50px !important;
    }
    
    /* Dupla vencedora - destaque melhorado */
    .matchup-dupla.winner {
      background: linear-gradient(135deg, rgba(6, 214, 160, 0.3), rgba(6, 214, 160, 0.15)) !important;
      border: 2px solid #06d6a0 !important;
      box-shadow: 0 4px 15px rgba(6, 214, 160, 0.3) !important;
      color: #06d6a0 !important;
      font-weight: 700 !important;
      transform: scale(1.02);
      transition: all 0.3s ease;
    }
    
    .matchup-dupla.winner:hover {
      transform: scale(1.05);
      box-shadow: 0 6px 20px rgba(6, 214, 160, 0.4) !important;
    }
    
    /* Dupla perdedora - estilo mais sutil */
    .matchup-dupla.loser {
      background: rgba(239, 71, 111, 0.1) !important;
      border: 1px solid rgba(239, 71, 111, 0.3) !important;
      color: rgba(255, 255, 255, 0.6) !important;
      opacity: 0.8;
    }
    
    /* Badge de resultado finalizado */
    .badge-completed {
      background: linear-gradient(135deg, rgba(6, 214, 160, 0.3), rgba(6, 214, 160, 0.2)) !important;
      border: 1px solid #06d6a0 !important;
      color: #06d6a0 !important;
      box-shadow: 0 2px 10px rgba(6, 214, 160, 0.2) !important;
    }
    
    /* Quadra destacada quando há resultado */
    .matchup-container.resultado-finalizado .matchup-quadra .badge {
      background: rgba(6, 214, 160, 0.2) !important;
      border-color: #06d6a0 !important;
      color: #06d6a0 !important;
    }
    
    /* Fallback para navegadores que suportam :has() */
    @supports selector(:has(*)) {
      .matchup-container:has(.matchup-dupla.winner) .matchup-quadra .badge {
        background: rgba(6, 214, 160, 0.2) !important;
        border-color: #06d6a0 !important;
        color: #06d6a0 !important;
      }
    }
    
    /* Animação suave para resultados finalizados */
    @keyframes resultPulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.9; }
    }
    
    .matchup-container.resultado-finalizado {
      animation: resultPulse 3s ease-in-out infinite;
    }
    
    @supports selector(:has(*)) {
      .matchup-container:has(.matchup-dupla.winner) {
        animation: resultPulse 3s ease-in-out infinite;
      }
    }
  </style>
</head>
<body>
  
  <!-- Header Global (visível em todas as páginas exceto index) -->
  {% if request.endpoint != 'index' %}
  <div class="app-header fade-in">
    <div class="container">
      <div class="text-center">
        <a href="{{ url_for('index') }}">
          <img src="{{ url_for('static', filename='images/logo_btmania.png') }}" 
               alt="Logo BT Mania" 
               class="logo">
        </a>
        <p class="app-subtitle">
          <i class="bi bi-trophy-fill me-2"></i>
          Sistema de Sorteio e Ranking
        </p>
      </div>
    </div>
  </div>
  {% endif %}
  
  <!-- Container Principal -->
  <div class="main-container">
    <div class="container">
      {% block content %}{% endblock %}
    </div>
  </div>
  
  <!-- Footer -->
  <div class="app-footer">
    <div class="container">
      <p class="mb-1">
        <i class="bi bi-volleyball me-2"></i>
        <strong>Torneio BT Mania</strong> - Beach Tennis
      </p>
      <p class="mb-0">
        <small>&copy; 2025 - Sistema de Gerenciamento de Torneios</small>
      </p>
    </div>
  </div>
  
  <!-- Bootstrap Bundle JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  
  <!-- Scripts customizados -->
  {% block scripts %}{% endblock %}
  
</body>
</html>
