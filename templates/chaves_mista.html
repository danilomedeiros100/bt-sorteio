{% extends "base.html" %}

{% block content %}
<h2 class="text-center mb-4">Chaves ‚Äì Categoria Mista (24/05)</h2>

{% if chaves %}
  {% for chave, confrontos in chaves.items() %}
    <div class="digital-panel text-center shadow-lg p-4 rounded mb-5">
      <h2 class="display-6 fw-bold text-info mb-4">üèÜ Chave {{ chave }}</h2>

      {% for (dupla1, dupla2) in confrontos %}
        <div class="matchup mb-3">
          <div class="team">{{ dupla1[0].nome }} & {{ dupla1[1].nome }}</div>
          <div class="vs">X</div>
          <div class="team">{{ dupla2[0].nome }} & {{ dupla2[1].nome }}</div>
        </div>
      {% endfor %}
    </div>
  {% endfor %}
{% else %}
  <p class="text-center text-muted">Nenhum sorteio realizado ainda.</p>
{% endif %}

<hr>
<h4 class="text-center mt-5">Lista de Participantes</h4>
<table class="table table-striped table-bordered text-center mt-3">
  <thead>
    <tr>
      <th>#</th>
      <th>Feminino</th>
      <th>Masculino</th>
    </tr>
  </thead>
  <tbody>
    {% set jogadores_f = jogadores | selectattr("sexo", "equalto", "F") | list %}
    {% set jogadores_m = jogadores | selectattr("sexo", "equalto", "M") | list %}
    {% set total = [jogadores_f|length, jogadores_m|length] | max %}

    {% for i in range(total) %}
    <tr>
      <td>{{ i + 1 }}</td>
      <td>{{ jogadores_f[i].nome if i < jogadores_f|length else '' }}</td>
      <td>{{ jogadores_m[i].nome if i < jogadores_m|length else '' }}</td>
    </tr>
    {% endfor %}
  </tbody>
</table>

<a href="/" class="btn btn-outline-secondary mt-4">‚¨Ö Voltar</a>
{% endblock %}